<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <title>Axios</title>
        <script>
            function sendGet() {
                axios({
                    method: 'get',
                    url: 'http://localhost:8080/receive',
                    params : {
                        name: 'codee'
                    }
                }).then((a) => { return a.data;})
                .then((d) => {
                    console.log(d.message);
                });
            }
            function sendPost() {
                axios({
                    method: 'post',
                    url: 'http://localhost:8080/receive',
                    data : {
                        name: 'codee'
                    }
                }).then((a) => { return a.data;})
                .then((d) => {
                    console.log(d.message);
                });
            }
            function sendForm() {
                var form = document.getElementById('form_info');
                console.log( form );
                var result = form.checkValidity();
                // input에 required 등 조건을 지켰는 지 확인하는 함수, 모두 지켰으면 true 아니라면 false 리턴함
                if (!result) {
                    form.reportValidity();
                    // 원래 input 칸에 required 안지켰을 때 나오는 경고창 보여줌
                    
                    return false;
                }
                console.log(result);
                // console.log(form.name.value)
                // console.log(form.age.value)
                // axios({
                //     method: 'post',
                //     url: 'http://localhost:8080/receive',
                //     data : {
                //         name: form.name.value
                //     }
                // }).then((a) => { return a.data;})
                // .then((d) => {
                //     console.log(d.message);
                // });
            }
        </script>
    </head>
    <body>
        <button type='button' onclick="sendGet();">GET 버튼</button>
        <button type='button' onclick="sendPost();">POST 버튼</button>

        <hr>

        <form id="form_info">
            <input type="text" name="name" required>
            <input type="text" name="age" required>
            <button type='button' onclick="sendForm()">SendForm</button>
        </form>
    </body>
</html>